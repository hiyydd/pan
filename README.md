# ç®€æ˜“ç½‘ç›˜ (Simple Netdisk)

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹äº®å³ä¸Šè§’çš„ **Star** æ”¯æŒæˆ‘ä»¬ï¼æ‚¨çš„é¼“åŠ±æ˜¯æˆ‘ä»¬æŒç»­å¼€å‘çš„åŠ¨åŠ›ï¼


## è®¸å¯è¯ (License)
æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯** å¼€æºï¼Œå…è®¸è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹ã€åˆ†å‘åŠç”¨äºå•†ä¸šç”¨é€”ï¼Œä»…éœ€åœ¨è¡ç”Ÿä½œå“ä¸­ä¿ç•™åŸä½œè€…çš„ç‰ˆæƒå£°æ˜ï¼ˆå…·ä½“æ¡æ¬¾è¯·å‚è€ƒä»“åº“å†… LICENSE æ–‡ä»¶ï¼‰ã€‚


## ç®€ä»‹ (Introduction)
è¿™æ˜¯ä¸€ä¸ªåŸºäº React å’Œ Flask æ„å»ºçš„ç®€æ˜“ç½‘ç›˜åº”ç”¨ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå®‰å…¨ã€ç®€å•ã€å…è´¹çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡ã€‚å®ƒæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤å’Œæœç´¢åŠŸèƒ½ï¼Œå¹¶å…·å¤‡å“åº”å¼è®¾è®¡ï¼Œå…¼å®¹æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡ã€‚

This is a simple netdisk application built with React and Flask, aiming to provide a secure, simple, and free file storage service. It supports uploading, downloading, deleting, and searching various file formats, and features a responsive design compatible with both desktop and mobile devices.


## åŠŸèƒ½ç‰¹æ€§ (Features)
- âœ¨ æ–‡ä»¶ä¸Šä¼  (File Upload)ï¼šæ”¯æŒæ‹–æ‹½å’Œç‚¹å‡»ä¸Šä¼ å¤šç§æ–‡ä»¶æ ¼å¼
- ğŸ“ æ–‡ä»¶åˆ—è¡¨ (File Listing)ï¼šæ˜¾ç¤ºå·²ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒåŒ…å«æ–‡ä»¶åã€å¤§å°ã€ä¸Šä¼ æ—¶é—´
- â¬‡ï¸ æ–‡ä»¶ä¸‹è½½ (File Download)ï¼šæ”¯æŒä¸‹è½½å·²ä¸Šä¼ çš„æ–‡ä»¶
- ğŸ—‘ï¸ æ–‡ä»¶åˆ é™¤ (File Deletion)ï¼šæ”¯æŒåˆ é™¤ä¸éœ€è¦çš„æ–‡ä»¶
- ğŸ” æ–‡ä»¶æœç´¢ (File Search)ï¼šå®æ—¶æœç´¢æ–‡ä»¶å
- ğŸŒ“ ä¸»é¢˜åˆ‡æ¢ (Theme Toggle)ï¼šæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- ğŸ“± å“åº”å¼è®¾è®¡ (Responsive Design)ï¼šå…¼å®¹æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡


## ç³»ç»Ÿè¦æ±‚ (System Requirements)

### å¿…éœ€è½¯ä»¶ (Required Software)
| è½¯ä»¶ (Software) | æœ€ä½ç‰ˆæœ¬ (Minimum Version) | æ¨èç‰ˆæœ¬ (Recommended Version) | ä¸‹è½½é“¾æ¥ (Download Link)       |
|-----------------|----------------------------|--------------------------------|--------------------------------|
| Node.js         | 16.0.0                     | 18.0.0+                        | [nodejs.org](https://nodejs.org) |
| Python          | 3.8.0                      | 3.11.0+                        | [python.org](https://python.org) |
| npm             | 8.0.0                      | 9.0.0+                        | éš Node.js å®‰è£… (Included with Node.js) |
| Git             | 2.20.0                     | æœ€æ–°ç‰ˆ (Latest)                | [git-scm.com](https://git-scm.com) |

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ (Supported Operating Systems)
- âœ… Windows 10/11 (x64)
- âœ… macOS 10.15+ (Intel/Apple Silicon)
- âœ… Linux (Ubuntu 18.04+, CentOS 7+, Debian 10+)

### æµè§ˆå™¨æ”¯æŒ (Browser Support)
- âœ… Chrome 90+
- âœ… Firefox 88+
- âœ… Safari 14+
- âœ… Edge 90+


## æŠ€æœ¯æ ˆ (Technology Stack)

### å‰ç«¯ (Frontend)
- React 18 - ç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶ (Modern frontend framework)
- Vite - å¿«é€Ÿçš„æ„å»ºå·¥å…· (Fast build tool)
- Tailwind CSS - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶ (Utility-first CSS framework)
- Lucide React - ç°ä»£åŒ–çš„å›¾æ ‡åº“ (Modern icon library)
- shadcn/ui - é«˜è´¨é‡çš„UIç»„ä»¶åº“ (High-quality UI component library)

### åç«¯ (Backend)
- Flask - è½»é‡çº§çš„Python Webæ¡†æ¶ (Lightweight Python web framework)
- SQLAlchemy - Python SQLå·¥å…·åŒ…å’ŒORM (Python SQL toolkit and ORM)
- Flask-CORS - è·¨åŸŸèµ„æºå…±äº«æ”¯æŒ (Cross-origin resource sharing support)
- SQLite - è½»é‡çº§æ•°æ®åº“ (Lightweight database)


## é¡¹ç›®ç»“æ„ (Project Structure)
```
netdisk-project/
â”œâ”€â”€ netdisk/                    # å‰ç«¯é¡¹ç›® (Frontend project)
â”‚   â”œâ”€â”€ public/                 # é™æ€èµ„æº (Static assets)
â”‚   â”‚   â””â”€â”€ favicon.ico
â”‚   â”œâ”€â”€ src/                    # æºä»£ç  (Source code)
â”‚   â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶ (React components)
â”‚   â”‚   â”‚   â”œâ”€â”€ FileList.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUpload.jsx
â”‚   â”‚   â”‚   â””â”€â”€ SearchBar.jsx
â”‚   â”‚   â”œâ”€â”€ assets/             # é™æ€èµ„æº (Static assets)
â”‚   â”‚   â”œâ”€â”€ App.jsx             # ä¸»åº”ç”¨ç»„ä»¶ (Main app component)
â”‚   â”‚   â”œâ”€â”€ main.jsx            # å…¥å£æ–‡ä»¶ (Entry file)
â”‚   â”‚   â””â”€â”€ index.css           # å…¨å±€æ ·å¼ (Global styles)
â”‚   â”œâ”€â”€ index.html              # HTMLæ¨¡æ¿ (HTML template)
â”‚   â”œâ”€â”€ package.json            # npmåŒ…é…ç½® (npm package config)
â”‚   â”œâ”€â”€ vite.config.js          # Viteé…ç½® (Vite configuration)
â”‚   â””â”€â”€ tailwind.config.js      # Tailwindé…ç½® (Tailwind config)
â”œâ”€â”€ netdisk-backend/            # åç«¯é¡¹ç›® (Backend project)
â”‚   â”œâ”€â”€ src/                    # æºä»£ç  (Source code)
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹ (Data models)
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py         # ç”¨æˆ·æ¨¡å‹ (User model)
â”‚   â”‚   â”‚   â””â”€â”€ file.py         # æ–‡ä»¶æ¨¡å‹ (File model)
â”‚   â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”± (API routes)
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py         # ç”¨æˆ·API (User APIs)
â”‚   â”‚   â”‚   â””â”€â”€ files.py        # æ–‡ä»¶API (File APIs)
â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡ (Business services)
â”‚   â”‚   â”‚   â””â”€â”€ google_drive.py # Google DriveæœåŠ¡ (Google Drive service)
â”‚   â”‚   â”œâ”€â”€ static/             # é™æ€æ–‡ä»¶ (Static files)
â”‚   â”‚   â””â”€â”€ main.py             # Flaskåº”ç”¨å…¥å£ (Flask app entry)
â”‚   â”œâ”€â”€ requirements.txt        # Pythonä¾èµ– (Python dependencies)
â”‚   â””â”€â”€ venv/                   # Pythonè™šæ‹Ÿç¯å¢ƒ (Python virtual environment)
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜ (Project documentation)
```


## è¯¦ç»†å®‰è£…æ•™ç¨‹ (Detailed Installation Guide)

### æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡ (Step 1: Environment Setup)

#### Windows ç”¨æˆ· (Windows Users)
- å®‰è£… Python (Install Python)
  ```bash
  # è®¿é—® https://python.org/downloads/ ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
  # Visit https://python.org/downloads/ to download the latest version
  # å®‰è£…æ—¶å‹¾é€‰ "Add Python to PATH"
  # Check "Add Python to PATH" during installation
  ```
- å®‰è£… Node.js (Install Node.js)
  ```bash
  # è®¿é—® https://nodejs.org/ ä¸‹è½½ LTS ç‰ˆæœ¬
  # Visit https://nodejs.org/ to download LTS version
  ```
- éªŒè¯å®‰è£… (Verify Installation)
  ```cmd
  python --version
  node --version
  npm --version
  ```

#### macOS ç”¨æˆ· (macOS Users)
- ä½¿ç”¨ Homebrew å®‰è£… (Install using Homebrew)
  ```bash
  # å®‰è£… Homebrew (Install Homebrew)
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

  # å®‰è£… Python å’Œ Node.js (Install Python and Node.js)
  brew install python node
  ```
- éªŒè¯å®‰è£… (Verify Installation)
  ```bash
  python3 --version
  node --version
  npm --version
  ```

#### Linux ç”¨æˆ· (Linux Users)
- Ubuntu/Debian ç”¨æˆ· (Ubuntu/Debian Users)
  ```bash
  # æ›´æ–°åŒ…åˆ—è¡¨ (Update package list)
  sudo apt update

  # å®‰è£… Python å’Œ Node.js (Install Python and Node.js)
  sudo apt install python3 python3-pip python3-venv nodejs npm
  ```
- CentOS/RHEL ç”¨æˆ· (CentOS/RHEL Users)
  ```bash
  # å®‰è£… Python (Install Python)
  sudo yum install python3 python3-pip

  # å®‰è£… Node.js (Install Node.js)
  curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
  sudo yum install nodejs
  ```


### æ­¥éª¤ 2: è·å–é¡¹ç›®ä»£ç  (Step 2: Get Project Code)

#### æ–¹æ³• 1: Git å…‹éš† (Method 1: Git Clone)
```bash
# å…‹éš†ä»“åº“ (Clone repository)
git clone https://github.com/username/netdisk.git
cd netdisk
```

#### æ–¹æ³• 2: ä¸‹è½½å‹ç¼©åŒ… (Method 2: Download ZIP)
```bash
# ä¸‹è½½å¹¶è§£å‹é¡¹ç›®æ–‡ä»¶ (Download and extract project files)
# ä» GitHub ä¸‹è½½ ZIP æ–‡ä»¶å¹¶è§£å‹åˆ°æœ¬åœ°ç›®å½•
# Download ZIP file from GitHub and extract to local directory
```


### æ­¥éª¤ 3: åç«¯è®¾ç½® (Step 3: Backend Setup)
- è¿›å…¥åç«¯ç›®å½• (Navigate to backend directory)
  ```bash
  cd netdisk-backend
  ```
- åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (Create virtual environment)
  - Windows:
    ```cmd
    python -m venv venv
    venv\Scripts\activate
    ```
  - macOS/Linux:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```
- å®‰è£…ä¾èµ– (Install dependencies)
  ```bash
  pip install -r requirements.txt
  ```
- åˆå§‹åŒ–æ•°æ®åº“ (Initialize database)
  ```bash
  # æ•°æ®åº“ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»º
  # Database will be automatically created on first run
  ```
- å¯åŠ¨åç«¯æœåŠ¡ (Start backend service)
  ```bash
  python src/main.py
  ```
  æˆåŠŸå¯åŠ¨åä¼šçœ‹åˆ° (You should see after successful startup):
  ```
  * Running on http://127.0.0.1:5000
  * Debug mode: on
  ```


### æ­¥éª¤ 4: å‰ç«¯è®¾ç½® (Step 4: Frontend Setup)
- æ‰“å¼€æ–°ç»ˆç«¯å¹¶è¿›å…¥å‰ç«¯ç›®å½• (Open new terminal and navigate to frontend directory)
  ```bash
  cd netdisk
  ```
- å®‰è£…ä¾èµ– (Install dependencies)
  ```bash
  npm install
  ```
  å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒ (If you encounter network issues, use Taobao mirror):
  ```bash
  npm install --registry https://registry.npmmirror.com
  ```
- å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (Start development server)
  ```bash
  npm run dev
  ```
  æˆåŠŸå¯åŠ¨åä¼šçœ‹åˆ° (You should see after successful startup):
  ```
  Local:   http://localhost:5173/
  Network: http://192.168.x.x:5173/
  ```


### æ­¥éª¤ 5: éªŒè¯å®‰è£… (Step 5: Verify Installation)
- è®¿é—®åº”ç”¨ (Access the application)  
  åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: http://localhost:5173  
  Open in browser: http://localhost:5173
- æµ‹è¯•åŠŸèƒ½ (Test features)
  - âœ… é¡µé¢æ­£å¸¸åŠ è½½ (Page loads correctly)
  - âœ… å¯ä»¥åˆ‡æ¢ä¸»é¢˜ (Theme toggle works)
  - âœ… å¯ä»¥é€‰æ‹©æ–‡ä»¶ (File selection works)
  - âœ… æ–‡ä»¶åˆ—è¡¨æ˜¾ç¤ºæ­£å¸¸ (File list displays correctly)


## å¸¸è§é—®é¢˜è§£å†³ (Troubleshooting)

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨ (Problem 1: Port Already in Use)
- é”™è¯¯ä¿¡æ¯ (Error Message):  
  `Error: listen EADDRINUSE: address already in use :::5000`
- è§£å†³æ–¹æ¡ˆ (Solution):
  ```bash
  # Windows
  netstat -ano | findstr :5000
  taskkill /PID <PID> /F

  # macOS/Linux
  lsof -ti:5000 | xargs kill -9
  ```

### é—®é¢˜ 2: Python æ¨¡å—æœªæ‰¾åˆ° (Problem 2: Python Module Not Found)
- é”™è¯¯ä¿¡æ¯ (Error Message):  
  `ModuleNotFoundError: No module named 'flask'`
- è§£å†³æ–¹æ¡ˆ (Solution):
  ```bash
  # ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´» (Ensure virtual environment is activated)
  # Windows
  venv\Scripts\activate

  # macOS/Linux
  source venv/bin/activate

  # é‡æ–°å®‰è£…ä¾èµ– (Reinstall dependencies)
  pip install -r requirements.txt
  ```

### é—®é¢˜ 3: npm å®‰è£…å¤±è´¥ (Problem 3: npm Install Failed)
- é”™è¯¯ä¿¡æ¯ (Error Message):  
  `npm ERR! network timeout`
- è§£å†³æ–¹æ¡ˆ (Solution):
  ```bash
  # æ¸…é™¤ npm ç¼“å­˜ (Clear npm cache)
  npm cache clean --force

  # ä½¿ç”¨æ·˜å®é•œåƒ (Use Taobao mirror)
  npm install --registry https://registry.npmmirror.com

  # æˆ–è€…ä½¿ç”¨ yarn (Or use yarn)
  npm install -g yarn
  yarn install
  ```

### é—®é¢˜ 4: æ–‡ä»¶ä¸Šä¼ å¤±è´¥ (Problem 4: File Upload Failed)
- å¯èƒ½åŸå›  (Possible Causes):  
  åç«¯æœåŠ¡æœªå¯åŠ¨ (Backend service not running)ã€è·¨åŸŸé—®é¢˜ (CORS issues)ã€æ–‡ä»¶å¤§å°è¶…é™ (File size exceeded)
- è§£å†³æ–¹æ¡ˆ (Solution):  
  ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ (Ensure backend service is running)ã€æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ (Check browser console for errors)ã€æŸ¥çœ‹åç«¯æ—¥å¿— (Check backend logs)


## API æ–‡æ¡£ (API Documentation)

### æ–‡ä»¶ç®¡ç† API (File Management API)
| æ–¹æ³• (Method) | ç«¯ç‚¹ (Endpoint)              | æè¿° (Description)          | å‚æ•° (Parameters)               |
|---------------|------------------------------|------------------------------|----------------------------------|
| GET           | /api/files                   | è·å–æ–‡ä»¶åˆ—è¡¨ (Get file list) | -                                |
| POST          | /api/files/upload            | ä¸Šä¼ æ–‡ä»¶ (Upload file)       | file: æ–‡ä»¶å¯¹è±¡ (File object)     |
| GET           | /api/files/{id}/download     | ä¸‹è½½æ–‡ä»¶ (Download file)     | id: æ–‡ä»¶ID (File ID)             |
| DELETE        | /api/files/{id}              | åˆ é™¤æ–‡ä»¶ (Delete file)       | id: æ–‡ä»¶ID (File ID)             |
| GET           | /api/files/search            | æœç´¢æ–‡ä»¶ (Search files)      | q: æœç´¢å…³é”®è¯ (Search query)     |

### å“åº”æ ¼å¼ (Response Format)
- æˆåŠŸå“åº” (Success Response):
  ```json
  {
    "success": true,
    "data": {...},
    "message": "æ“ä½œæˆåŠŸ"
  }
  ```
- é”™è¯¯å“åº” (Error Response):
  ```json
  {
    "success": false,
    "error": "é”™è¯¯ä¿¡æ¯",
    "code": 400
  }
  ```


## éƒ¨ç½²æŒ‡å— (Deployment Guide)

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² (Production Deployment)
- æ„å»ºå‰ç«¯ (Build frontend)
  ```bash
  cd netdisk
  npm run build
  ```
- é…ç½®åç«¯ (Configure backend)
  ```bash
  # å°†æ„å»ºæ–‡ä»¶å¤åˆ¶åˆ°åç«¯é™æ€ç›®å½•
  # Copy build files to backend static directory
  cp -r dist/* ../netdisk-backend/src/static/
  ```
- ä½¿ç”¨ Gunicorn éƒ¨ç½² (Deploy with Gunicorn)
  ```bash
  pip install gunicorn
  gunicorn -w 4 -b 0.0.0.0:5000 src.main:app
  ```

### Docker éƒ¨ç½² (Docker Deployment)
```dockerfile
# Dockerfile ç¤ºä¾‹ (Dockerfile example)
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 5000

CMD ["python", "src/main.py"]
```


## è´¡çŒ®æŒ‡å— (Contributing Guide)
æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼(We welcome all forms of contributions!)

### å¦‚ä½•è´¡çŒ® (How to Contribute)
1. Fork é¡¹ç›® (Fork the project)
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (Create feature branch)
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. æäº¤æ›´æ”¹ (Commit changes)
   ```bash
   git commit -m 'Add amazing feature'
   ```
4. æ¨é€åˆ†æ”¯ (Push branch)
   ```bash
   git push origin feature/amazing-feature
   ```
5. åˆ›å»º Pull Request (Create Pull Request)

### ä»£ç è§„èŒƒ (Code Standards)
- å‰ç«¯ (Frontend): ä½¿ç”¨ ESLint å’Œ Prettier
- åç«¯ (Backend): éµå¾ª PEP 8 è§„èŒƒ
- æäº¤ä¿¡æ¯ (Commit Messages): ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤è§„èŒƒ


## æ”¯æŒä¸åé¦ˆ (Support & Feedback)
- ğŸ› Bug æŠ¥å‘Š (Bug Reports): GitHub Issues
- ğŸ’¡ åŠŸèƒ½å»ºè®® (Feature Requests): GitHub Discussions



## å¼€å‘å›¢é˜Ÿ (Development Team)
hiyydd

## æœ€åæ›´æ–° (Last Updated)
2025å¹´8æœˆ

## ç‰ˆæœ¬ (Version)
1.3.0
